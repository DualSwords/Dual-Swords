#include <iostream>
#include <string>
#include <iomanip>
#include <ctime>

using namespace std;

int shotgunBullet = 10;
int pistolBullet = 40;
int food = 100;
int myLife = 100;
int lives = 3;
int grenade;
int trollLife;
int impLife;
int bossLife;
int money;
int enemyType;
int spoils;
int damage;
int quantity;

string answer;

bool broadsword = false;
bool shield = false;
bool knife = false;
bool shotgunUpgrade = false;
bool pistolUpgrade = false;
bool broadswordUpgrade = false;
bool shieldUpgrade = false;
bool knifeUpgrade = false;

void grenadeLauncher()
{
    if (grenade == 0)
    {
        bludgeon:
        srand(time(NULL));                                          
        int damageBludgeon = rand() % 80 + 50;
        
        if (enemyType == 20)
        {
            bossLife -= damageBludgeon;
            cout << "You have successfully bludgeoned the boss!" << endl;
            cout << "The boss is at " << bossLife << " health." << endl;
        }
    
        if (enemyType < 10)
        {
            impLife -= damageBludgeon;
            cout << "You have successfully bludgeoned the imp!" << endl;
            cout << "The imp is at " << impLife << " health." << endl;
        }
        
        if (enemyType >= 10 && enemyType < 20)
        {
            trollLife -= damageBludgeon;
            cout << "You have successfully grenaded the troll!" << endl;
            cout << "BOOM!" << endl;
        }
    }
    
    
    else if (grenade >= 1)
    {
        
        srand(time(NULL));                                          
        int damageGrenade= rand() % 10000 + 1000;
        choose:
        cout << "Will you bludgeon the enemy or grenade the enemy?" << endl;
        cin >> answer;
        
        if (answer != "bludgeon" && answer != "grenade")
        {
            cout << "That is not an action you can do with the grenade launcher." << endl;
            goto choose;
        }
    
        if (answer == "bludgeon")
        {
            goto bludgeon;
        }
        
        else if (answer == "grenade")
        {
            
            if (enemyType == 20)
            {
                bossLife -= damageGrenade;
                cout << "You have successfully grenaded the boss!" << endl;
                cout << "BOOM!" << endl;
            }
    
            if (enemyType < 10)
            {
                impLife -= damageGrenade;
                cout << "You have successfully grenaded the imp!" << endl;
                cout << "BOOM!" << endl;
            }
            
            if (enemyType >= 10 && enemyType < 20)
            {
                trollLife -= damageGrenade;
                cout << "You have successfully grenaded the troll!" << endl;
                cout << "BOOM!" << endl;
            }
        }
        
        else 
        {
            cout << "There has been an error." << endl;
            goto choose;
        }
    }
}
    
void shootShotgun()
{
    shotgunBullet -= 1;
    shotgun:
    srand(time(NULL));                                          
    int damageShotgun = rand() % 25 + 15;
    
    if (shotgunUpgrade == true)
    {
        damageShotgun *= 2;
    }
    
    if (enemyType == 20)
    {
        bossLife -= damageShotgun;
        cout << "The bosses health is now at " << bossLife << "." << endl;
    }
    
    else if (enemyType < 10)
    {
        impLife -= damageShotgun;
        cout << "The imps health is now at " << impLife << "." << endl;
    }
    
    else if (enemyType >= 10 && enemyType < 20)
    {
    	trollLife -= damageShotgun;
        cout << "The trolls health is now at " << trollLife << "." << endl;
    }
    
    else
    {
        cout << "There has been an error." << endl;
        goto shotgun;
    }
}

void shootPistol()
{
    pistolBullet -=1;
    pistol:
    srand(time(NULL));                                          
    int damagePistol = rand() % 15 + 5;
    
    if (pistolUpgrade == true)
    {
        damagePistol *= 2;
    }
    
    if (enemyType == 20)
    {
        bossLife -= damagePistol;
        cout << "The bosses health is now at " << bossLife << "." << endl;
    }
    
    else if (enemyType < 10)
    {
        impLife -= damagePistol;
        cout << "The imps health is now at " << impLife << "." << endl;
    }
    
    else if (enemyType >= 10 && enemyType < 20)
    {
        trollLife -= damagePistol;
        cout << "The trolls health is now at " << trollLife << "." << endl;
    }
    
    else 
    {
        cout << "There has been an error." << endl;
        goto pistol;
    }
}

void broadswordSwing()
{
    broadsword:
    srand(time(NULL));                                          
    int damageBroadsword = rand() % 50 + 20;
    
    if (broadswordUpgrade == true)
    {
        damageBroadsword *= 2;
    }
    
    if (enemyType == 20)
    {
        bossLife -= damageBroadsword;
        cout << "The bosses health is now at " << bossLife << "." << endl;
    }
    
    else if (enemyType < 10)
    {
        impLife -= damageBroadsword;
        cout << "The imps health is now at " << impLife << "." << endl;
    }
    
    else if (enemyType >= 10 && enemyType < 20)
    {
        trollLife -= damageBroadsword;
        cout << "The trolls health is now at " << trollLife << "." << endl;
    }
    
    else
    {
        cout << "There has been an error." << endl;
        goto broadsword;
    }
}

void knifeStab()
{
    knife:
    srand(time(NULL));                                          
    int damageKnife = rand() % 20 + 20;
    
    if (knifeUpgrade == true)
    {
        damageKnife *= 2;
    }
    
    if (enemyType == 20)
    {
        bossLife -= damageKnife;
        cout << "The bosses health is now at " << bossLife << "." << endl;
    }
    
    else if (enemyType < 10)
    {
        impLife -= damageKnife;
        cout << "The imps health is now at " << impLife << "." << endl;
    }
    
    else if (enemyType >= 10 && enemyType < 20)
    {
        trollLife -= damageKnife;
        cout << "The trolls health is now at " << trollLife << "." << endl;
    }
    
    else
    {
        cout << "There has been an error." << endl;
        goto knife;
    }
    
    
}

void armor()
{
    if(shield == true)
    {
        damage /= 2;
    }
    
    if(shieldUpgrade == true)
    {
        damage /= 2;
    }
}

void enemyAttack()
{
	enemy:
    if (enemyType == 20)
    {
        cout << "It is now the bosses turn to attack!" << endl;
        cout << "Accept?" << endl;
        cin >> answer;
        srand(time(NULL));                                          
        int damageBoss = rand() % 30 + 10;
        damage = damageBoss;
        armor();
    
        if (answer != " ")
        {
            myLife -= damage;
            cout << "Your health has been reduced to " << myLife << endl;
        }
    }
    
    else if (enemyType < 10)
    {
        cout << "It is now the imps turn to attack!" << endl;
        cout << "Accept?" << endl;
        cin >> answer;
        srand(time(NULL));                                          
        int damageImp = rand() % 5 + 1;
        damage = damageImp;
        damage *= enemyType;
        armor();
    
        if (answer != " ")
        {
            if (damage == 0)
            cout << "The imp missed." << endl;
        }
       
        else 
        {
        	myLife -= damage;
            cout << "Your health has been reduced to " << myLife << endl;
        }
    }
    
    else if (enemyType >= 10 && enemyType < 20)
    {
        cout << "It is now the trolls turn to attack!" << endl;
        cout << "Accept?" << endl;
        cin >> answer;
        srand(time(NULL));                                          
        int damageTroll = rand() % 5 + 1;
        damage = damageTroll;
        damage *= enemyType;
        armor();
    
        if (answer != " ")
        {
            myLife -= damage;
            cout << "Your health has been reduced to " << myLife << endl;
        }
    }
    
    else 
    {
    	cout << "There has been an error. Please try again." << endl;
    	goto enemy;
    }
}

void chooseWeapon()
{
	choose:
    if (!broadsword && !knife)
    {
        cout << "Will you use your shotgun or your pistol?" << endl;
        cout << "Your shotgun has " << shotgunBullet << " bullets left" << endl;
        cout << "Your pistol has " << pistolBullet << " bullets left" << endl;
        weapon_1:
        cin >> answer;
        
        if(answer != "shotgun" && answer != "pistol")
        {
            cout << "That is not a valid weapon. Please try again." << endl;
            goto weapon_1;
        }
    
        else if (answer == "shotgun")
        {
            shootShotgun();
        }
    
        else if (answer == "pistol")
        {
            shootPistol();
        }
    
        else
        {
            cout << "That is not a valid weapon. Please try again." << endl;
        }
    }
    
    else if (broadsword && !knife)
    {
        cout << "Will you use your shotgun, your sword, or your pistol?" << endl;
        cout << "Your shotgun has " << shotgunBullet << " bullets left" << endl;
        cout << "Your pistol has " << pistolBullet << " bullets left" << endl;
        weapon_2:
        cin >> answer;
        
        if(answer != "shotgun" && answer != "pistol" && answer != "sword")
        {
            cout << "That is not a valid weapon. Please try again." << endl;
            goto weapon_1;
        }
    
        else if (answer == "shotgun")
        {
            shootShotgun();
        }
    
        else if (answer == "pistol")
        {
            shootPistol();
        }
        
        else if (answer == "sword")
        {
            broadswordSwing();
        }
    
        else
        {
            cout << "That is not a valid weapon. Please try again." << endl;
            goto weapon_2;
        }
    }
    
    else if (!broadsword && knife)
    {
        cout << "Will you use your shotgun, your knife, or your pistol?" << endl;
        cout << "Your shotgun has " << shotgunBullet << " bullets left" << endl;
        cout << "Your pistol has " << pistolBullet << " bullets left" << endl;
        weapon_3:
        cin >> answer;
        
        if(answer != "shotgun" && answer != "pistol" && answer != "knife")
        {
            cout << "That is not a valid weapon. Please try again." << endl;
            goto weapon_1;
        }
    
        else if (answer == "shotgun")
        {
            shootShotgun();
        }
    
        else if (answer == "pistol")
        {
            shootPistol();
        }
        
        else if (answer == "knife")
        {
            knifeStab();
        }
    
        else
        {
            cout << "That is not a valid weapon. Please try again." << endl;
            goto weapon_3;
        }
    }
    
    else if (broadsword && knife)
    {
        cout << "Will you use your shotgun, your knife, your sword, or your pistol?" << endl;
        cout << "Your shotgun has " << shotgunBullet << " bullets left" << endl;
        cout << "Your pistol has " << pistolBullet << " bullets left" << endl;
        weapon_4:
        cin >> answer;
        
        if(answer != "shotgun" && answer != "pistol" && answer != "knife" && answer != "sword")
        {
            cout << "That is not a valid weapon. Please try again." << endl;
            goto weapon_4;
        }
    
        else if (answer == "shotgun")
        {
            shootShotgun();
        }
    
        else if (answer == "pistol")
        {
            shootPistol();
        }
        
        else if (answer == "knife")
        {
            knifeStab();
        }
        
        else if (answer == "sword")
        {
            broadswordSwing();
        }
    
        else
        {
            cout << "That is not a valid weapon. Please try again." << endl;
            goto weapon_4;
        }
    }
    
    else 
    {
    	cout << "There has been an error. Please try again." << endl;
    	goto choose;
    }
} 

void runAway()
{
    bossLife = -1289;
    impLife = -1289;
    trollLife = -1289;
    food -= 10;
    cout << "You lost 10 food in the scuffle." << endl;
    
}

void eat()
{
    food -= 20;
    myLife += 50;
    cout << "Your health is now at " << myLife << " health, and you have " << food << " food left." << endl;
}

void checkMoney()
{
	if (money <= 0)
	{
		cout << "You are out of money." << endl;
		chooseWeapon();
	}
}

void visitShop()
{
    main_shop:
    cout << "Here, you can buy bullets, food, weapon upgrades, or new weapons." << endl;
    cout << "To go to the bullet shop, the command is 'bullet'." << endl;
    cout << "To go to the upgrade smith, the command is 'upgrade'" << endl;
    cout << "To go to the arms depot, the command is 'weapon'" << endl;
    cout << "To exit to main menu, the command is is 'main'." << endl;
    cin >> answer;
    
    if (answer != "bullet" && answer != "weapon" && answer != "upgrade" && answer != "food" && answer != "main")
    {
        cout << "That is an invalid command. Please press one of the ones specified." << endl;
        goto main_shop;
    }
    
    if (answer == "bullet")
    {
        bullet_shop:
        cout << "Shotgun bullets are 10 bullets for 50 gold coins." << endl;
        cout << "Pistol bullets are 40 bullets for 75 gold coins." << endl;
        cout << "Would you like to buy pistol or shotgun bullets?" << endl;
        cin >> answer;
            
        if (answer != "pistol" && answer != "shotgun" && answer != "main")
        {
            cout << "That is an invalid operation. Please try again." << endl;
            goto bullet_shop;
        }
        
        if (answer == "shotgun")
        {
            shotgun_bullet_shop:
            cout << "How many bullets would you like to buy? You can buy 10, 20, or 30 bullets at a time." << endl;
            cin >> quantity;
            
            if (quantity != 10 && quantity != 20 && quantity != 30)
            {
                cout << "That is an invalid number. Please buy only 10, 20, or 30 bullets." << endl;
                checkMoney();
                goto shotgun_bullet_shop;
            }
            
            if (quantity == 10)
            {
                shotgunBullet += 10;
                money -= 50;
                cout << "You now have " << shotgunBullet << " shotgun bullets, and " << money << " gold coins." << endl;
                checkMoney();
                bullets_1:
                cout << "Would you like to purchase more bullets?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto bullets_1;
                }
                
                if (answer == "yes")
                goto shotgun_bullet_shop;
                
                else if (answer == "no")
                goto bullet_shop;
           		
           		else 
           		{
           			cout << "That is an invalid answer. Please try again." << endl;
           			goto bullets_1;
           		}
            }
            
            else if (quantity == 20)
            {
                shotgunBullet += 20;
                money -= 100;
                cout << "You now have " << shotgunBullet << " shotgun bullets, and " << money << " gold coins." << endl;
                checkMoney();
                bullets_2:
                cout << "Would you like to purchase more bullets?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto bullets_2;
                }
                
                if (answer == "yes")
                goto shotgun_bullet_shop;
                
                else if (answer == "no")
                goto bullet_shop;
           		
           		else 
           		{
           			cout << "That is an invalid answer. Please try again." << endl;
           			goto bullets_2;
           		}
            }
            
            else if (quantity == 30)
            {
                shotgunBullet += 30;
                money -= 150;
                cout << "You now have " << shotgunBullet << " shotgun bullets, and " << money << " gold coins." << endl;
                checkMoney();
                bullets_3:
                cout << "Would you like to purchase more bullets?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto bullets_3;
                }
                
                if (answer == "yes")
                goto shotgun_bullet_shop;
                
                else if (answer == "no")
                goto bullet_shop;
           		
           		else 
           		{
           			cout << "That is an invalid answer. Please try again." << endl;
           			goto bullets_3;
           		}
            }
            
            else
            {
                cout << "That is an invalid number. Please buy only 10, 20, or 30 bullets." << endl;
                goto bullet_shop;
            }
        }
        
        else if (answer == "pistol")
        {
            pistol_bullet_shop:
            cout << "How many bullets would you like to buy? You can buy 40, 80, or 120 bullets at a time." << endl;
            cin >> quantity;
            
            if (quantity != 40 && quantity != 80 && quantity != 120)
            {
                cout << "That is an invalid number. Please buy only 40, 80, or 120 bullets." << endl;
                goto pistol_bullet_shop;
            }
            
            else if (quantity == 40)
            {
                pistolBullet += 40;
                money -= 75;
                cout << "You now have " << pistolBullet << " pistol bullets, and " << money << " gold coins." << endl;
                checkMoney();
                bullets_4:
                cout << "Would you like to purchase more bullets?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto bullets_4;
                }
                
                if (answer == "yes")
                goto pistol_bullet_shop;
                
                else if (answer == "no")
                goto bullet_shop;
           		
           		else 
           		{
           			cout << "That is an invalid answer. Please try again." << endl;
           			goto bullets_4;
           		}
            }
            
            else if (quantity == 80)
            {
                pistolBullet += 80;
                money -= 150;
                cout << "You now have " << pistolBullet << " pistol bullets, and " << money << " gold coins." << endl;
                checkMoney();
                bullets_5:
                cout << "Would you like to purchase more bullets?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto bullets_5;
                }
                
                if (answer == "yes")
                goto pistol_bullet_shop;
                
                else if (answer == "no")
                goto bullet_shop;
           		
           		else 
           		{
           			cout << "That is an invalid answer. Please try again." << endl;
           			goto bullets_5;
           		}
            }
            
            else if (quantity == 120)
            {
                pistolBullet += 120;
                money -= 225;
                cout << "You now have " << pistolBullet << " pistol bullets, and " << money << " gold coins." << endl;
                checkMoney();
                bullets_6:
                cout << "Would you like to purchase more bullets?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto bullets_6;
                }
                
                if (answer == "yes")
                goto pistol_bullet_shop;
                
                else if (answer == "no")
                goto bullet_shop;
           		
           		else 
           		{
           			cout << "That is an invalid answer. Please try again." << endl;
           			goto bullets_6;
           		}
            }
            
            else
            {
                cout << "That is an invalid number. Please buy only 40, 80, or 120 bullets." << endl;
                goto pistol_bullet_shop;
            }
        }
        
        else if (answer == "main")
        {
        goto main_shop;
        }
        
        else 
        {
            cout << "That is an invalid answer. Please try again." << endl;
            goto bullet_shop;
        }
    }
    
    if (answer == "food")
    {
        food_shop:
        cout << "How much food would you like to buy? You can buy 20, 40, or 60 food at a time." << endl;
        cout << "20 food costs 50 gold coins." << endl;
        cin >> quantity;
            
        if (quantity != 20 && quantity != 40 && quantity != 60)
        {
            cout << "That is an invalid number. Please buy only 20, 40, or 60 food." << endl;
            goto food_shop;
        }
            
        if (quantity == 20)
        {
            food += 20;
            money -= 50;
            cout << "You now have " << food << " food, and " << money << " gold coins." << endl;
            checkMoney();
            food_1:
                cout << "Would you like to purchase more food?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto food_1;
                }
                
                if (answer == "yes")
                {
                goto food_shop;
                }
                
                else if (answer == "no")
                {
                goto main_shop;
                }
                
                else
                {
                    cout << "That is an invalid answer. Please try again." << endl;
                    goto food_1;
                }
        }
            
        else if (quantity == 40)
        {
            food += 40;
            money -= 100;
            cout << "You now have " << food << " food, and " << money << " gold coins." << endl;
            checkMoney();
            food_2:
                cout << "Would you like to purchase more food?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto food_2;
                }
                
                if (answer == "yes")
                {
                    goto food_shop;
                }
                
                else if (answer == "no")
                {
                    goto main_shop;
                }
                
                else
                {
                    cout << "That is an invalid answer. Please try again." << endl;
                    goto food_2;
                }
        }
            
        else if (quantity == 60)
        {
            food += 60;
            money -= 150;
            cout << "You now have " << food << " food, and " << money << " gold coins." << endl;
            checkMoney();
            food_3:
            cout << "Would you like to purchase more food?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto food_3;
                }
                
                if (answer == "yes")
                {
                    goto food_shop;
                }
                
                else if (answer == "no")
                {
                    goto main_shop;
                }
                
                else
                {
                    cout << "That is an invalid answer. Please try again." << endl;
                    goto food_3;
                }
        }
            
        else
        {
            cout << "That is an invalid number. Please buy only 20, 40, or 60 food." << endl;
            goto food_shop;
        }
    }
    
    if (answer == "upgrade")
    {
        upgrade_shop:
        
        if (1 == 1)
        {
            if (pistolUpgrade == false)
            {
        	    cout << "There is a pistol upgrade for 1500 gold coins." << endl;
            }
        
            if (shotgunUpgrade == false)
            {
            	cout << "There is a shotgun upgrade for 2000 gold coins." << endl;
            }
            
            if (broadsword == true && broadswordUpgrade == false)
            {
            	cout << "There is a broadsword upgrade for 8000 gold coins." << endl;
            }
            
            if (knife == true && knifeUpgrade == false)
            {
            	cout << "There is a knife upgrade for 5000 gold coins." << endl;
            }
            
            if (shield == true && shieldUpgrade == false)
            {
            	cout << "There is a shield upgrade for 6000 gold coins." << endl;
            }
        
            cout << "What will you buy?" << endl;
            cin >> answer;
        }
        
        if (answer != "shotgun" && answer != "pistol" && answer != "broadsword" && answer != "shield" && answer != "knife" && answer != "main")
        {
            cout << "That is an invalid answer. Please try again." << endl;
            goto upgrade_shop;
        }
        
        if (answer == "shotgun")
        {
            if (answer == "shotgun" && shotgunUpgrade == false && money >= 2000)
            {
        	    shotgunUpgrade = true;
        	    money -= 2000;
        	    cout << "You have bought the shotgun upgrade! It will now do twice as much damage!" << endl;
        	    checkMoney();
        	    goto upgrade_shop;
            }
            
            else if (money <= 2000)
            {
                cout << "You do not have enough money to buy this." << endl;
                goto upgrade_shop;
            }
        }
        
        else if (answer == "pistol")
        {
            
            if (answer == "pistol" && pistolUpgrade == false && money >= 1500)
            {
        	    shotgunUpgrade = true;
        	    money -= 1500;
        	    cout << "You have bought the pistol upgrade! It will now do twice as much damage!" << endl;
        	    checkMoney();
        	    goto upgrade_shop;
            }
        
            else if (money <= 1500)
            {
                cout << "You do not have enough money to buy this." << endl;
                goto upgrade_shop;
            }
        }
        
        else if (answer == "broadsword")
        {
            
            if (answer == "broadsword" && broadswordUpgrade == false && money >= 8000)
            {
        	    broadswordUpgrade = true;
        	    money -= 8000;
        	    cout << "You have bought the broadsword upgrade! It will now do twice as much damage!" << endl;
        	    checkMoney();
        	    goto upgrade_shop;
            }
        
            else if (money <= 8000)
            {
                cout << "You do not have enough money to buy this." << endl;
                goto upgrade_shop;
            }
        }
        
        else if (answer == "knife")
        {
            
            if (answer == "knife" && knifeUpgrade == false && money >= 5000)
            {
        	    knifeUpgrade = true;
        	    money -= 5000;
        	    cout << "You have bought the knife upgrade! It will now do twice as much damage!" << endl;
        	    checkMoney();
        	    goto upgrade_shop;
            }
        
            else if (money <= 5000)
            {
                cout << "You do not have enough money to buy this." << endl;
                goto upgrade_shop;
            }
        }
        
        else if (answer == "shield")
        {
            
            if (answer == "shield" && shieldUpgrade == false && money >= 5000)
            {
        	    shieldUpgrade = true;
        	    money -= 5000;
        	    cout << "You have bought the shield upgrade! It will now block twice as much damage!" << endl;
        	    checkMoney();
        	    goto upgrade_shop;
            }
        
            else if (money <= 5000)
            {
                cout << "You do not have enough money to buy this." << endl;
                goto upgrade_shop;
            }
        }
        
        else if (answer == "main")
        {
            goto main_shop;
        }
        
        else
        {
            cout << "That is an invalid answer. Please try again." << endl;
            goto upgrade_shop;
        }
    }

    if (answer == "weapon")
    {
        weapons_shop:
        
        if (1 == 1)
        {
            if (!shield && !shieldUpgrade)
            {
                cout << "You can buy a shield for 2500 gold coins." << endl;
            }
            
            if (!broadsword && !broadswordUpgrade)
            {
                cout << "You can buy a broadsword for 5000 gold coins." << endl;
            }
            
            if (!knife && !knifeUpgrade)
            {
                cout << "You can buy a knife for 3000 gold coins." << endl;
            }
            
            cout << "What will you buy?" << endl;
            cin >> answer;
            
            if (answer != "broadsword" && answer != "shield" && answer != "knife" && answer != "main")
            {
                cout << "That is an invalid answer. Please try again." << endl;
                goto weapons_shop;
            }
        }
        
        if (answer == "broadsword")
        {
            if (answer == "broadsword" && !broadsword && !broadswordUpgrade && money >= 5000)
            {
                broadsword = true;
                money -= 5000;
                cout << "You have bought the broadsword! It does a ton of damage!" << endl;
                checkMoney();
                weapon_1:
                cout << "Would you like to purchase another weapon?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto weapon_1;
                }
                
                if (answer == "yes")
                {
                goto weapons_shop;
                }
                
                else if (answer == "no")
                {
                goto main_shop;
                }
                
                else
                {
                    cout << "That is an invalid answer. Please try again." << endl;
                    goto weapon_1;
                }
            }
                
                
            
    }
    
        if (answer == "knife")
        {
            if (answer == "knife" && !knife && !knifeUpgrade && money >= 3000)
            {
                knife = true;
                money -= 3000;
                checkMoney();
                cout << "You have bought the knife! It does a lot of damage!" << endl;
                weapon_2:
                cout << "Would you like to purchase another weapon?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto weapon_2;
                }
                
                if (answer == "yes")
                {
                goto weapons_shop;
                }
                
                else if (answer == "no")
                {
                goto main_shop;
                }
                
                else
                {
                    cout << "That is an invalid answer. Please try again." << endl;
                    goto weapon_2;
                }
            }
}

        if (answer == "shield")
        {
            if (answer == "shield" && !shield && !shieldUpgrade && money >= 2500)
            {
                shield = true;
                money -= 2500;
                cout << "You have bought the shield! It blocks a lot of damage!" << endl;
                checkMoney();
                weapon_3:
                cout << "Would you like to purchase another weapon?" << endl;
                cin >> answer;
                
                if (answer != "yes" && answer != "no")
                {
                	cout << "That is an invalid answer. Please try again." << endl;
                	goto weapon_3;
                }
                
                if (answer == "yes")
                {
                goto weapons_shop;
                }
                
                else if (answer == "no")
                {
                goto main_shop;
                }
                
                else
                {
                    cout << "That is an invalid answer. Please try again." << endl;
                    goto weapon_3;
                }
            }
        }
        
        if (answer == "main")
        {
            goto main_shop;
        }
    }
}

void myTurn()
{
    goto_main:
    
    if (money >= 500 && food >= 20)
    {
        cout << "It is your turn. " << endl;
        cout << "Commands are fight, eat, shop, and run." << endl;
        goto_2:
        cin >> answer;
    
        if(answer != "fight" && answer != "eat" && answer != "run" && answer != "shop")
        {
            cout << "That is not a valid action. Please try again." << endl;
            goto goto_2;
        }
        
            if (answer == "fight")
            {
                chooseWeapon();
            }
            
            else if (answer == "eat")
            {
                eat();
            }
            
            else if (answer == "run")
            {
                runAway();
            }
            
            else if (answer == "shop")
            {
                visitShop();
            }
            
            else 
            {
                cout << "That is not a valid action. Please try again." << endl;
                goto goto_2;
            }
        }
        
    if (money < 500 && food >= 20)
    {
        cout << "It is your turn. " << endl;
        cout << "Commands are fight, eat, and run." << endl;
        goto_1:
        cin >> answer;
    
        if(answer != "fight" && answer != "eat" && answer != "run")
        {
            cout << "That is not a valid action. Please try again." << endl;
            goto goto_1;
        }
        
            if (answer == "fight")
            {
                chooseWeapon();
            }
            
            else if (answer == "eat")
            {
                eat();
            }
            
            else if (answer == "run")
            {
                runAway();
            }
            
            else 
            {
                cout << "That is not a valid action. Please try again." << endl;
                goto goto_1;
            }
    }
   
    if (money >= 500 && food < 20)
    {
        cout << "It is your turn. " << endl;
        cout << "Commands are fight and shop." << endl;
        goto_3:
        cin >> answer;
    
        if (answer != "fight" && answer != "shop")
        {
            cout << "That is not a valid action. Please try again." << endl;
            goto goto_3;
        }
        
        if (answer == "fight")
        {
            chooseWeapon();
        }
            
        else if (answer == "shop")
        {
            visitShop();
        }
            
        else 
        {
            cout << "That is not a valid action. Please try again." << endl;
            goto goto_3;
        }
        }  
        
    if (money < 500 && food < 20)
    {
        cout << "It is your turn. " << endl;
        cout << "Commands are fight." << endl;
        goto_4:
        cin >> answer;
    
        if (answer != "fight")
        cout << "That is not a valid action. Please try again." << endl;
        goto goto_4;
        
            if (answer == "fight")
            {
                chooseWeapon();
            }
         
            else 
            {
                cout << "That is not a valid action. Please try again." << endl;
                goto goto_4;
            }
        }
        
   /* else 
    {
        cout << "There has been an error. Please try again." << endl;
        goto goto_main;
    }*/
    
}   

void spoilsOfWar()
{
    srand(time(NULL));                                          
    int spoils = rand() % 5 + 1;
        
    switch (spoils)
    {
        case 1:
        money += 10 * (enemyType);
        cout << "You got " << 5*enemyType << " gold coins! You now have " << money << " gold coins!" << endl;
        if (enemyType == 20)
        grenade += 1;
        break;
        
        case 2:
        food += 10 * (enemyType);
        cout << "You got " << 10*enemyType << " food! You now have " << food << " food!" << endl;
        if (enemyType == 20)
        grenade += 1;
        break;
        
        case 3: 
        money += 5 * (enemyType);
        cout << "You got " << 5*enemyType << " gold coins! You now have " << money << " gold coins!" << endl;
        if (enemyType == 20)
        grenade += 1;
        break;
        
        case 4:
        shotgunBullet += 1 * (enemyType);
        pistolBullet += 4 * (enemyType);
        cout << "You got " << 4 * enemyType << " pistol bullets and " << 1 * enemyType << " shotgun bullets!" << endl;
        if (enemyType == 20)
        grenade += 1;
        break;
        
        case 5:
        money += 15 * (enemyType);
        cout << "You got " << 5*enemyType << " gold coins! You now have " << money << " gold coins!" << endl;
        if (enemyType == 20)
        grenade += 1;
        break;
    }
}
  
void gameOver()
{
    cout << "You have 0 life remaining. You are now dead." << endl;
    cout << "GAME OVER!" << endl;
    
    if (lives > 0)
    {
        cout << "Continue? It will cost 100 gold coins, along with one of your " << lives << " live(s) left."<< endl;
        cin >> answer;
    
        if (answer == "yes")
        {
            lives -= 1;
            myLife = 100;
            int main();
        }
        
        else
        {
            return;
        }
    }
}

void enemyPicker()
{
    srand(time(NULL));                                          
    int enemyChooser = rand() % 20 + 1;
    bossLife = 400;
    trollLife = 20 * enemyChooser;
    impLife = 10 * enemyChooser;
    enemyType = enemyChooser;
    
    if (enemyType == 20)
    {
        cout << "You have encountered a boss! It is at " << bossLife << " health!" << endl;
    }

    else if (enemyType < 10)
    {
        cout << "You have encountered an imp! It is at " << impLife << " health!" << endl;
    }
    
    else if (enemyType >= 10 && enemyType < 20)
    {
    	cout << "You have encountered a troll! It is at " << trollLife << " health!" << endl;
    }
}

void fightSequence()
{
    redo:
    myTurn();
    
    if (bossLife <= 0)
    {
        if (bossLife != -1289)
        spoilsOfWar();
        enemyPicker();
        goto redo;
    }
    
    if (impLife <= 0)
    {
        if (impLife != -1289)
        spoilsOfWar();
        enemyPicker();
        goto redo;
    }
    
    if (trollLife <= 0)
    {
    	if (trollLife != -1289)
    	spoilsOfWar();
    	enemyPicker();
    	goto redo;
    }
    
    enemyAttack();
        
    if (myLife <= 0)
    {
        gameOver();
    }
    goto redo;
} 

int main()
{
    if (lives == 3)
    {
        cout << "Welcome to the game Dual Swords: An RPG Legend. Press any key, then enter, to begin your first fight." << endl;
        cin >> answer;
        
        if (answer != " ")
        {
            enemyPicker();
            fightSequence();
        }
    }
} 
